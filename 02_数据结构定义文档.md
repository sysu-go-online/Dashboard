# GO-ONLINE项目数据结构定义

## JWT数据结构定义

### payload

|字段|类型|说明|
|-|-|-|
|sub|string|jwt所面向的用户，这里指的是用户的用户名|
|exp|int64|过期时间，默认为30天|
|iat|int64|jwt的签发时间|
|jti|string|jwt唯一的身份标识，这里使用一段随机的字符串表示|

### header

|字段|类型|说明|
|-|-|-|
|alg|string|加密用算法，默认为`HS256`|
|typ|string|token类型，这里时`JWT`|

### key(临时)

说明：用来对jwt进行加密解密的字符串，暂时为`go-online`

## 系统id与项目编程语言对应表

|数值|语言|说明|
|-|-|-|
|0|golang|无|
|1|C/C++|无|
|2|python|无|
|3|Ubuntu(空环境)|无|

## 数字与文件变化状态对应表(TODO)

|数值|说明|
|-|-|-|
|-1|文件创建成功|
|0|文件被创建|
|1|文件被删除|
|2|文件被修改|
|3|文件从此处移动走|
|4|文件被移动到此处|
|5|未定义行为|

## 用户终端交互类型表

|数值|含义|
|-|-|
|0|用户的输入字符流|
|1|用户进行终端size修改|

## 终端交互系统返回类型表
|数值|含义|
|-|-|
|0|容器的stdout和stderr|
|1|对终端size修改|

## 菜单功能项说明表

|名称|含义|适用语言|
|-|-|-|
|run|运行当前项目|所有|
|test|测试|所有|
|compile|编译|所有编译型语言|
|format|格式化当前项目|golang|

## 用户信息定义

### 目录结构表

|名称|类型|值|解释|
|-|-|-|-|
|USER_HOME|string|/home/$USERNAME/|用户的家目录|
|USER_PROJECT_HOME|string|/home/$USERNAME/projects|用户的项目所在目录，该目录将会被挂载至容器的`/root`目录|
|USER_INFO|string|/home/$USERNAME/.info/|用户以及项目的相关信息目录，系统内用于对用户以及项目进行管理的，对用户不可见，具体字段见**用户信息具体内容表**以及**用户项目信息具体内容表**，存储项目信息的目录结构与用户创建项目的目录结构一一对应|

### 用户信息具体内容表

|字段|类型|说明|
|-|-|-|
|name|string|用户名|
|language|int|用户默认使用的编程语言的代号|

### 用户信息具体内容表

|字段|类型|说明|
|-|-|-|
|name|string|项目名|
|language|int|该项目上次使用的编程语言的代号|
|fileState|json|上次离开时的文件项目打开状态(需要接口支持)|

## 用户共享资源相关信息

### 目录列表

|名称|类型|值|解释|
|-|-|-|-|
|GOLANG_PUBLIC_IMPORT|string|/home/sysu-go-online/golang/import/|所有用户共享的常用golang包，只读挂载|

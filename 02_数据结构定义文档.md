# GO-ONLINE项目数据结构定义

## 用户定义项目(go-online.yml)

|名称|是否必须|默认值|可选项|类型|作用|
|--|--|--|--|--|--|
|Language|否|golang|golang、cpp|string|定义当前项目所属语言，系统在构建项目运行环境时需要用到|
|Username|否|用户在系统中的用户名|无|string|用户指定用户名，可能在在挂载时起作用，例如，go语言项目中，会将用户项目挂载到`$GOPATH/src/github.com/$Username/$projectname`目录|
|ProjectName|否|当前项目在系统中的项目名|无|string|用户指定项目名，作用同username|
|Environment|否|无|无|string:string list|用户定义环境变量，系统将在构建环境时附加这些环境变量|

## 系统定义相关目录

|名称|类型|值|作用|
|-|-|-|-|
|USER_HOME|string|/home/$USER_SYSTEM_NAME|储存用户的家目录，用户的所有文件都会被存储在家目录中|
|GOPATH|string|/root/go:/home/$Username/go|GOPATH，将会被同步设置到环境变量，第一个用来存放第三方库，第二个用来存放用户的项目|
|GO_PROJECT_DIR|string|$USER_HOME/go/src/github.com/$PROJECT_SYSTEM_NAME|储存用户golang项目源码的目录|
|GO_IMPORT_DIR|string|$USER_HOME/go/import|储存golang项目第三方库的目录|
|GO_PROJECT_MOUNT_DIR|string|/home/$Username/go/src/github.com/$ProjectName|用户的项目在**容器**中的挂载位置|
|GO_IMPORT_MOUNT_DIR|string|/root/go/|第三方库在**容器**中挂载的位置|
|CPP_PROJECT_DIR|string|$USER_HOME/cpp/|用户的所有cpp\c项目根目录|
|CPP_MOUNT_DIR|string|/home/$Username/$ProjectName|用户当前cpp\c项目在**容器**中的挂载位置|

### 相关说明
1. cpp项目暂不支持第三方库的使用，因此暂时不考虑cpp项目的lib路径
2. golang项目的第三方库和用户项目源码独立放置
3. 暂时用户项目只支持github.com前缀
4. 每次挂载到容器的项目有且只有当前用户使用的项目
5. 原则上每一条命令启动一个容器，用户的一切中间状态不予存储，当前的执行结果只在当前命令下有效
6. 用户有权使用任何命令，包括删除根目录的命令，但这同样会删除用户存储在服务器上的文件
7. 暂时只支持golang和cpp两种语言
8. 所有golang项目共享同一个import目录